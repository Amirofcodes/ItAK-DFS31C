.PHONY: setup ssh-setup git-config install-software

setup:
    @echo "Creating base directory structure..."
    mkdir -p ~/workspace/IT-Akademy/ItAK-DFS31C
    @echo "Directory structure created."

include .env

ssh-setup:
    @echo "Generating SSH key..."
    ssh-keygen -t rsa -b 4096 -C "$(GIT_USER_EMAIL)" -f ~/.ssh/id_rsa -N ""
    @echo "SSH key generated."

    @echo "Adding SSH key to the ssh-agent..."
    eval "$(ssh-agent -s)"
    ssh-add ~/.ssh/id_rsa
    @echo "SSH key added to ssh-agent."

    @echo "Copy the following SSH key and add it to your GitHub account ($(GIT_USER_NAME)):"
    @cat ~/.ssh/id_rsa.pub
    @echo "Instructions: https://github.com/settings/keys"

git-config:
    @echo "Configuring Git..."
    git config --global user.name "$(GIT_USER_NAME)"
    git config --global user.email "$(GIT_USER_EMAIL)"
    git config --global core.editor "code --wait"
    @echo "Git configured."
    
